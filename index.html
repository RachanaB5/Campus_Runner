<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<title>CampusRunner ‚Äì Mingos Canteen</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{
  --orange:#F57C00;--orange-dark:#E67100;--orange-light:#FF8F00;
  --orange-pale:#FFF8F0;--orange-xpale:#FFE8D6;
  --amber:#FFB74D;--red:#C62828;--red-dark:#B71C1C;
  --green:#4CAF50;--green-dark:#388E3C;
  --dark:#2C2C2C;--mid:#666666;--light:#999999;--border:#E8E8E8;
  --bg:#FFF8F0;--white:#FFFFFF;
  --shadow-sm:0 2px 8px rgba(0,0,0,0.08);
  --shadow-md:0 4px_12px rgba(0,0,0,0.10);
  --shadow-lg:0 8px_24px rgba(0,0,0,0.14);
  --shadow-orange:0 4px 12px rgba(245,124,0,0.30);
  --r-sm:12px;--r-md:20px;--r-lg:30px;
}
html,body{height:100%;background:#e8e0d8;font-family:'Nunito',sans-serif;color:var(--dark);-webkit-font-smoothing:antialiased;}

/* ‚îÄ‚îÄ APP SHELL ‚îÄ‚îÄ */
#app{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;padding:12px 0;}
.phone{width:100%;max-width:420px;min-height:100vh;background:var(--bg);position:relative;overflow:hidden;box-shadow:0 0 60px rgba(0,0,0,.25);}
@media(min-width:600px){.phone{min-height:auto;height:860px;border-radius:36px;overflow:hidden;}}

/* ‚îÄ‚îÄ SCREENS ‚îÄ‚îÄ */
.screen{position:absolute;inset:0;overflow-y:auto;overflow-x:hidden;display:none;flex-direction:column;background:var(--bg);}
.screen.active{display:flex;}

/* ‚îÄ‚îÄ SCROLLBAR HIDE ‚îÄ‚îÄ */
.no-scrollbar::-webkit-scrollbar{display:none;}
.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none;}

/* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
@keyframes fadeIn{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:none}}
@keyframes scaleIn{from{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}
@keyframes ping{0%{transform:scale(1);opacity:1}75%,100%{transform:scale(2);opacity:0}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
@keyframes slideUp{from{transform:translateY(100%)}to{transform:none}}
@keyframes spin{to{transform:rotate(360deg)}}
.fade-in{animation:fadeIn .5s ease both;}
.scale-in{animation:scaleIn .6s cubic-bezier(.34,1.56,.64,1) both;}
.slide-up{animation:slideUp .4s ease both;}
.ping{animation:ping 1.5s cubic-bezier(0,.2,.8,1) infinite;}
.pulse{animation:pulse 2s ease infinite;}

/* ‚îÄ‚îÄ COMMON ‚îÄ‚îÄ */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;}
button{cursor:pointer;border:none;background:none;font-family:inherit;}

/* === HEADER BAR === */
.header-bar{background:linear-gradient(135deg,var(--orange),var(--orange-light));padding:52px 20px 16px;border-radius:0 0 var(--r-lg) var(--r-lg);box-shadow:0 4px 20px rgba(245,124,0,.4);flex-shrink:0;position:sticky;top:0;z-index:50;}
.header-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;}
.header-logo{display:flex;align-items:center;gap:10px;}
.header-logo-icon{width:44px;height:44px;background:rgba(255,255,255,.2);border-radius:var(--r-sm);display:flex;align-items:center;justify-content:center;backdrop-filter:blur(8px);font-size:22px;}
.header-logo h1{font-family:'Poppins',sans-serif;font-weight:800;font-size:19px;color:#fff;}
.header-logo p{font-size:11px;color:rgba(255,255,255,.8);font-weight:600;}
.icon-btn{width:44px;height:44px;background:rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(8px);transition:background .2s;position:relative;}
.icon-btn:hover{background:rgba(255,255,255,.35);}
.icon-btn svg{width:22px;height:22px;stroke:#fff;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}
.cart-badge{position:absolute;top:-2px;right:-2px;width:18px;height:18px;background:var(--red);border-radius:50%;font-size:10px;font-weight:800;color:#fff;display:flex;align-items:center;justify-content:center;border:2px solid #fff;}

/* === SEARCH BAR === */
.search-wrap{position:relative;}
.search-wrap input{width:100%;padding:11px 16px 11px 44px;background:rgba(255,255,255,.95);border:2px solid transparent;border-radius:50px;font-size:14px;font-weight:600;font-family:inherit;color:var(--dark);outline:none;transition:border .2s;}
.search-wrap input::placeholder{color:#aaa;font-weight:500;}
.search-wrap input:focus{border-color:var(--amber);}
.search-icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);width:18px;height:18px;stroke:var(--mid);fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}

/* ‚îÄ‚îÄ SCROLL CONTENT ‚îÄ‚îÄ */
.scroll-content{flex:1;overflow-y:auto;padding:20px 20px 100px;}

/* === PROMO BANNER === */
.promo-banner{background:linear-gradient(135deg,var(--orange),var(--orange-light));border-radius:var(--r-md);overflow:hidden;position:relative;padding:18px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--shadow-orange);cursor:pointer;transition:transform .2s,box-shadow .2s;margin-bottom:16px;}
.promo-banner:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(245,124,0,.4);}
.promo-badge{background:var(--amber);color:var(--dark);font-size:11px;font-weight:800;padding:4px 10px;border-radius:50px;display:inline-block;margin-bottom:6px;}
.promo-title{font-family:'Poppins',sans-serif;font-size:18px;font-weight:800;color:#fff;margin-bottom:2px;}
.promo-sub{font-size:12px;color:rgba(255,255,255,.9);font-weight:600;}
.promo-cta{font-size:12px;color:#fff;font-weight:700;margin-top:8px;display:flex;align-items:center;gap:3px;}
.promo-img{width:110px;height:100px;border-radius:var(--r-sm);overflow:hidden;flex-shrink:0;margin-left:12px;}
.promo-img img{width:100%;height:100%;object-fit:cover;}
.promo-deco{position:absolute;top:-30px;right:-30px;width:120px;height:120px;background:rgba(255,255,255,.07);border-radius:50%;}
.promo-deco2{position:absolute;bottom:-20px;left:-20px;width:80px;height:80px;background:rgba(255,255,255,.07);border-radius:50%;}

/* === RUNNER INDICATOR === */
.runner-bar{background:linear-gradient(135deg,#66BB6A,#4CAF50);border-radius:var(--r-md);padding:14px 16px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 4px 16px rgba(76,175,80,.3);margin-bottom:16px;}
.runner-icon-wrap{position:relative;width:46px;height:46px;flex-shrink:0;}
.runner-icon-inner{width:46px;height:46px;background:rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(4px);font-size:20px;}
.runner-ping{position:absolute;inset:0;background:rgba(255,255,255,.35);border-radius:50%;}
.runner-info{flex:1;margin-left:12px;}
.runner-title{font-size:14px;font-weight:800;color:#fff;display:flex;align-items:center;gap:6px;}
.runner-dot{width:8px;height:8px;background:#fff;border-radius:50%;}
.runner-sub{font-size:11px;color:rgba(255,255,255,.9);font-weight:600;margin-top:2px;}
.live-badge{background:rgba(255,255,255,.25);backdrop-filter:blur(4px);padding:4px 10px;border-radius:50px;font-size:11px;font-weight:900;color:#fff;letter-spacing:1px;}

/* === SECTION HEADER === */
.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;}
.section-title{font-family:'Poppins',sans-serif;font-size:17px;font-weight:800;color:var(--dark);}
.see-all{font-size:13px;font-weight:700;color:var(--orange);}

/* === POPULAR CAROUSEL === */
.carousel{overflow-x:auto;margin:0 -20px;padding:0 20px 12px;}
.carousel-inner{display:flex;gap:14px;width:max-content;}

/* === FOOD CARD === */
.food-card{width:220px;background:var(--white);border-radius:var(--r-md);overflow:hidden;box-shadow:var(--shadow-sm);transition:transform .2s,box-shadow .2s;cursor:pointer;flex-shrink:0;}
.food-card:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(0,0,0,.12);}
.food-card-img{position:relative;height:140px;background:#f5f5f5;overflow:hidden;}
.food-card-img img{width:100%;height:100%;object-fit:cover;}
.veg-dot{position:absolute;top:10px;left:10px;width:22px;height:22px;border-radius:4px;border:2px solid;display:flex;align-items:center;justify-content:center;background:#fff;}
.veg-dot-inner{width:10px;height:10px;border-radius:50%;}
.veg{border-color:#388E3C;}.veg .veg-dot-inner{background:#388E3C;}
.non-veg{border-color:#C62828;}.non-veg .veg-dot-inner{background:#C62828;}
.food-badge{position:absolute;top:10px;right:10px;background:var(--amber);color:var(--dark);font-size:10px;font-weight:800;padding:3px 8px;border-radius:50px;}
.food-card-body{padding:12px;}
.food-name{font-weight:800;font-size:14px;color:var(--dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;}
.food-meta{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;}
.food-meta-item{display:flex;align-items:center;gap:3px;font-size:12px;font-weight:600;color:var(--mid);}
.star-icon{color:var(--amber);font-size:13px;}
.food-footer{display:flex;align-items:center;justify-content:space-between;}
.food-price{font-family:'Poppins',sans-serif;font-size:17px;font-weight:800;color:var(--orange);}
.add-btn-sm{background:var(--orange);color:#fff;font-size:12px;font-weight:700;padding:5px 12px;border-radius:50px;transition:background .2s;}
.add-btn-sm:hover{background:var(--orange-dark);}

/* === CATEGORY GRID === */
.category-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
.cat-card{background:var(--white);border-radius:var(--r-md);overflow:hidden;box-shadow:var(--shadow-sm);cursor:pointer;transition:transform .2s,box-shadow .2s;display:flex;flex-direction:column;}
.cat-card:hover{transform:translateY(-3px);box-shadow:0 10px 28px rgba(0,0,0,.12);}
.cat-img{position:relative;height:80px;overflow:hidden;background:#f5f5f5;}
.cat-img img{width:100%;height:100%;object-fit:cover;}
.cat-emoji{position:absolute;top:6px;right:6px;width:26px;height:26px;background:rgba(255,255,255,.92);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;box-shadow:var(--shadow-sm);}
.cat-name{text-align:center;font-size:11px;font-weight:800;color:var(--dark);padding:7px 4px;}

/* === TODAY'S SPECIAL === */
.special-card{background:linear-gradient(135deg,rgba(255,183,77,.15),rgba(245,124,0,.12));border:2px solid rgba(255,183,77,.35);border-radius:var(--r-md);padding:18px;display:flex;gap:14px;align-items:flex-start;}
.special-emoji{font-size:28px;}
.special-title{font-weight:800;font-size:15px;color:var(--dark);margin-bottom:4px;}
.special-desc{font-size:12px;color:var(--mid);font-weight:600;line-height:1.5;margin-bottom:10px;}
.special-row{display:flex;align-items:center;gap:14px;}
.special-price{font-family:'Poppins',sans-serif;font-size:18px;font-weight:800;color:var(--orange);}

/* === STATS ROW === */
.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.stat-card{background:var(--white);border-radius:var(--r-md);padding:14px 10px;text-align:center;box-shadow:var(--shadow-sm);}
.stat-emoji{font-size:20px;margin-bottom:4px;}
.stat-label{font-size:10px;color:var(--mid);font-weight:600;margin-bottom:2px;}
.stat-val{font-weight:800;font-size:13px;color:var(--dark);}

/* ‚îÄ‚îÄ BOTTOM NAV ‚îÄ‚îÄ */
.bottom-nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:420px;background:var(--white);border-top:2px solid var(--border);box-shadow:0 -4px 16px rgba(0,0,0,.08);z-index:100;padding:6px 16px 10px;}
.nav-items{display:flex;justify-content:space-around;}
.nav-btn{display:flex;flex-direction:column;align-items:center;gap:3px;padding:6px 14px;border-radius:20px;transition:background .2s,transform .2s;min-width:66px;}
.nav-btn.active{background:var(--orange);transform:scale(1.05);}
.nav-btn svg{width:22px;height:22px;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;transition:stroke .2s;}
.nav-btn span{font-size:10px;font-weight:700;transition:color .2s;}
.nav-btn.active svg{stroke:#fff;}
.nav-btn.active span{color:#fff;}
.nav-btn:not(.active) svg{stroke:var(--mid);}
.nav-btn:not(.active) span{color:var(--mid);}
.nav-btn:not(.active):hover{background:var(--orange-pale);}

/* ‚îÄ‚îÄ SPLASH SCREEN ‚îÄ‚îÄ */
#screen-splash{background:linear-gradient(135deg,var(--orange),var(--orange-light));justify-content:center;align-items:center;}
.splash-icon{width:120px;height:120px;background:rgba(255,255,255,.2);border-radius:28px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(8px);font-size:56px;margin-bottom:20px;box-shadow:0 8px 32px rgba(0,0,0,.2);}
.splash-title{font-family:'Poppins',sans-serif;font-size:32px;font-weight:900;color:#fff;text-align:center;margin-bottom:6px;}
.splash-sub{font-size:14px;color:rgba(255,255,255,.85);font-weight:600;text-align:center;}
.splash-spinner{margin-top:48px;width:36px;height:36px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;}

/* ‚îÄ‚îÄ WELCOME SCREEN ‚îÄ‚îÄ */
#screen-welcome{background:linear-gradient(160deg,var(--orange-pale),var(--orange-xpale));}
.welcome-hero{padding:60px 28px 28px;display:flex;flex-direction:column;align-items:center;}
.welcome-hero-icon{width:140px;height:140px;background:linear-gradient(135deg,var(--orange),var(--orange-light));border-radius:32px;display:flex;align-items:center;justify-content:center;font-size:70px;box-shadow:0 12px 40px rgba(245,124,0,.4);position:relative;overflow:hidden;margin-bottom:28px;}
.welcome-hero-badge{position:absolute;bottom:14px;right:14px;width:38px;height:38px;background:var(--amber);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;}
.welcome-title{font-family:'Poppins',sans-serif;font-size:30px;font-weight:900;color:var(--dark);text-align:center;line-height:1.2;margin-bottom:6px;}
.welcome-tagline{font-size:15px;color:var(--mid);font-weight:600;text-align:center;margin-bottom:6px;}
.welcome-chip{background:rgba(245,124,0,.12);color:var(--orange);font-size:12px;font-weight:800;padding:6px 16px;border-radius:50px;display:inline-block;margin-bottom:28px;}
.feature-list{width:100%;display:flex;flex-direction:column;gap:10px;margin-bottom:28px;}
.feat-card{background:#fff;border-radius:var(--r-md);padding:14px 16px;display:flex;align-items:center;gap:14px;box-shadow:var(--shadow-sm);}
.feat-emoji{font-size:30px;}
.feat-title{font-weight:800;font-size:14px;color:var(--dark);}
.feat-desc{font-size:12px;color:var(--mid);font-weight:600;}
.cta-area{width:100%;padding:0 28px 40px;}
.btn-primary{width:100%;background:var(--orange);color:#fff;font-family:inherit;font-size:15px;font-weight:800;padding:14px;border-radius:var(--r-md);display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:var(--shadow-orange);transition:background .2s,transform .2s;border:none;cursor:pointer;}
.btn-primary:hover{background:var(--orange-dark);transform:translateY(-1px);}
.btn-primary:active{transform:scale(.98);}
.cta-note{text-align:center;font-size:12px;color:var(--mid);font-weight:600;margin-top:10px;}

/* ‚îÄ‚îÄ LOGIN / SIGNUP SCREEN ‚îÄ‚îÄ */
.auth-header{background:linear-gradient(135deg,var(--orange),var(--orange-light));padding:52px 24px 28px;border-radius:0 0 var(--r-lg) var(--r-lg);text-align:center;position:relative;flex-shrink:0;}
.auth-back{position:absolute;left:20px;top:14px;width:38px;height:38px;background:rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;}
.auth-back svg{width:20px;height:20px;stroke:#fff;fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;}
.auth-icon{width:60px;height:60px;background:rgba(255,255,255,.2);border-radius:var(--r-sm);display:flex;align-items:center;justify-content:center;font-size:28px;backdrop-blur:blur(8px);margin:0 auto 10px;}
.auth-title{font-family:'Poppins',sans-serif;font-size:22px;font-weight:800;color:#fff;margin-bottom:4px;}
.auth-sub{font-size:13px;color:rgba(255,255,255,.88);font-weight:600;}
.auth-body{flex:1;overflow-y:auto;padding:24px 24px 80px;}
.auth-form{display:flex;flex-direction:column;gap:14px;}
.form-label{font-size:13px;font-weight:800;color:var(--dark);margin-bottom:5px;display:block;}
.form-field{position:relative;}
.form-field svg{position:absolute;left:14px;top:50%;transform:translateY(-50%);width:18px;height:18px;stroke:var(--mid);fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;pointer-events:none;}
.form-input{width:100%;padding:12px 16px 12px 44px;background:#fff;border:2px solid var(--border);border-radius:var(--r-md);font-family:inherit;font-size:14px;font-weight:600;color:var(--dark);outline:none;transition:border .2s,box-shadow .2s;}
.form-input::placeholder{color:#bbb;font-weight:500;}
.form-input:focus{border-color:var(--orange);box-shadow:0 0 0 4px rgba(245,124,0,.12);}
.form-input.error{border-color:var(--red);}
.form-error{font-size:12px;color:var(--red);font-weight:700;margin-top:4px;}
.toggle-pw{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:var(--mid);}
.toggle-pw svg{width:18px;height:18px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}
.remember-row{display:flex;align-items:center;justify-content:space-between;}
.check-label{display:flex;align-items:center;gap:6px;font-size:13px;color:var(--mid);font-weight:600;cursor:pointer;}
.check-label input{accent-color:var(--orange);}
.forgot{font-size:13px;font-weight:700;color:var(--orange);}
.runner-toggle-card{background:#fff;border-radius:var(--r-md);padding:14px 16px;box-shadow:var(--shadow-sm);display:flex;align-items:center;justify-content:space-between;}
.runner-toggle-left{display:flex;align-items:center;gap:12px;}
.runner-toggle-icon{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;background:#f5f5f5;transition:background .2s;}
.runner-toggle-icon.on{background:rgba(245,124,0,.1);}
.runner-toggle-title{font-weight:800;font-size:14px;color:var(--dark);}
.runner-toggle-sub{font-size:12px;color:var(--mid);font-weight:600;}
.toggle-sw{width:52px;height:30px;border-radius:50px;padding:3px;transition:background .3s;background:#e0e0e0;}
.toggle-sw.on{background:var(--orange);}
.toggle-knob{width:24px;height:24px;background:#fff;border-radius:50%;box-shadow:var(--shadow-sm);transition:transform .3s;}
.toggle-sw.on .toggle-knob{transform:translateX(22px);}
.divider{display:flex;align-items:center;gap:12px;color:var(--mid);font-size:12px;font-weight:600;}
.divider::before,.divider::after{content:'';flex:1;height:1px;background:var(--border);}
.google-btn{width:100%;background:#fff;border:2px solid var(--border);border-radius:var(--r-md);padding:12px;font-family:inherit;font-size:14px;font-weight:700;color:var(--dark);display:flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;transition:border-color .2s,background .2s;}
.google-btn:hover{border-color:var(--orange);background:var(--orange-pale);}
.auth-switch{text-align:center;font-size:13px;font-weight:600;color:var(--mid);}
.auth-switch a{color:var(--orange);font-weight:800;cursor:pointer;}

/* ‚îÄ‚îÄ MENU LISTING ‚îÄ‚îÄ */
.filter-bar{display:flex;gap:10px;overflow-x:auto;padding-bottom:8px;}
.filter-bar::-webkit-scrollbar{display:none;}
.filter-chip{flex-shrink:0;padding:7px 14px;border-radius:50px;border:2px solid var(--border);background:#fff;font-family:inherit;font-size:12px;font-weight:700;color:var(--dark);cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .2s;}
.filter-chip.active,.filter-chip:hover{border-color:var(--orange);color:var(--orange);}
.filter-chip.active{background:var(--orange);color:#fff;}
.filter-chip.active:hover{background:var(--orange-dark);}
.filter-panel{margin-top:12px;background:#fff;border-radius:var(--r-md);padding:16px;border:2px solid var(--border);box-shadow:var(--shadow-sm);}
.filter-panel-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;}
.filter-panel-title{font-weight:800;font-size:14px;color:var(--dark);}
.close-filter{width:30px;height:30px;background:#f5f5f5;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;}
.close-filter svg{width:14px;height:14px;stroke:var(--mid);fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;}
.sort-opts{display:flex;flex-direction:column;gap:8px;}
.sort-opt{padding:10px 14px;border-radius:14px;font-size:13px;font-weight:700;color:var(--dark);background:#f5f5f5;cursor:pointer;text-align:left;transition:all .2s;}
.sort-opt.active,.sort-opt:hover{background:rgba(245,124,0,.1);color:var(--orange);}
.info-banner{background:#fff;border-radius:var(--r-md);padding:12px 14px;border:2px solid var(--border);display:flex;align-items:center;gap:10px;font-size:13px;font-weight:600;}
.menu-list{display:flex;flex-direction:column;gap:14px;}

/* === MENU ITEM CARD === */
.menu-item{background:#fff;border-radius:var(--r-md);overflow:hidden;box-shadow:var(--shadow-sm);cursor:pointer;transition:transform .2s,box-shadow .2s;display:flex;gap:0;padding:14px;}
.menu-item:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(0,0,0,.1);}
.menu-item-body{flex:1;min-width:0;padding-right:12px;}
.menu-item-top{display:flex;align-items:center;gap:6px;margin-bottom:6px;}
.menu-item-name{font-weight:800;font-size:15px;color:var(--dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;}
.menu-item-desc{font-size:12px;color:var(--mid);font-weight:600;line-height:1.4;margin-bottom:8px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
.menu-item-meta{display:flex;align-items:center;gap:10px;margin-bottom:10px;}
.menu-item-footer{display:flex;align-items:center;justify-content:space-between;}
.menu-item-img{width:120px;height:120px;border-radius:14px;overflow:hidden;flex-shrink:0;background:#f5f5f5;}
.menu-item-img img{width:100%;height:100%;object-fit:cover;}
.add-btn{background:var(--orange);color:#fff;font-family:inherit;font-size:12px;font-weight:800;padding:7px 14px;border-radius:50px;display:flex;align-items:center;gap:4px;cursor:pointer;transition:background .2s;box-shadow:0 2px 8px rgba(245,124,0,.3);}
.add-btn:hover{background:var(--orange-dark);}
.add-btn svg{width:14px;height:14px;stroke:#fff;fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;}
.empty-state{text-align:center;padding:60px 0;}
.empty-emoji{font-size:56px;margin-bottom:14px;}
.empty-title{font-weight:800;font-size:18px;color:var(--dark);margin-bottom:6px;}
.empty-sub{font-size:13px;color:var(--mid);font-weight:600;}

/* ‚îÄ‚îÄ ITEM DETAIL SCREEN ‚îÄ‚îÄ */
#screen-detail .detail-img-wrap{position:relative;height:280px;background:#f5f5f5;overflow:hidden;flex-shrink:0;}
#screen-detail .detail-img-wrap img{width:100%;height:100%;object-fit:cover;}
.detail-gradient{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.5) 0%,transparent 60%);}
.detail-top-actions{position:absolute;top:14px;left:0;right:0;padding:0 16px;display:flex;align-items:center;justify-content:space-between;z-index:10;}
.detail-action-btn{width:38px;height:38px;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:var(--shadow-sm);transition:background .2s;}
.detail-action-btn:hover{background:#fff;}
.detail-action-btn svg{width:18px;height:18px;stroke:var(--dark);fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}
.detail-action-btn.heart.liked{background:var(--red);}
.detail-action-btn.heart.liked svg{stroke:#fff;}
.detail-action-btns{display:flex;gap:8px;}
.veg-badge{position:absolute;top:14px;left:50%;transform:translateX(-50%);backdrop-filter:blur(8px);padding:5px 14px;border-radius:50px;display:flex;align-items:center;gap:6px;z-index:10;}
.veg-badge.veg{background:rgba(56,142,60,.25);border:2px solid #388E3C;}
.veg-badge.non-veg{background:rgba(198,40,40,.25);border:2px solid var(--red);}
.veg-badge span{color:#fff;font-size:12px;font-weight:800;}
.detail-body{flex:1;overflow-y:auto;padding:20px 20px 120px;}
.detail-name{font-family:'Poppins',sans-serif;font-size:22px;font-weight:900;color:var(--dark);margin-bottom:4px;}
.detail-category{font-size:13px;color:var(--mid);font-weight:600;margin-bottom:12px;}
.detail-chips{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:16px;}
.detail-chip{padding:6px 12px;border-radius:10px;font-size:12px;font-weight:700;display:flex;align-items:center;gap:5px;}
.chip-rating{background:#388E3C;color:#fff;}
.chip-time,.chip-cal{background:#fff;color:var(--dark);border:2px solid var(--border);}
.detail-price-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;}
.detail-price{font-family:'Poppins',sans-serif;font-size:26px;font-weight:900;color:var(--orange);}
.detail-serving{font-size:12px;color:var(--mid);font-weight:600;}
.detail-section{background:#fff;border-radius:var(--r-md);padding:16px;box-shadow:var(--shadow-sm);margin-bottom:14px;}
.detail-section-title{font-weight:800;font-size:14px;color:var(--dark);margin-bottom:10px;}
.detail-desc{font-size:13px;color:var(--mid);font-weight:600;line-height:1.6;}
.custom-opt{width:100%;display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-radius:13px;border:2px solid transparent;background:#f5f5f5;cursor:pointer;transition:all .2s;margin-bottom:6px;font-family:inherit;}
.custom-opt.selected{background:rgba(245,124,0,.1);border-color:var(--orange);}
.custom-opt:last-child{margin-bottom:0;}
.custom-opt-left{display:flex;align-items:center;gap:10px;}
.custom-radio{width:18px;height:18px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:border-color .2s;}
.custom-opt.selected .custom-radio{border-color:var(--orange);}
.custom-radio-inner{width:10px;height:10px;border-radius:50%;background:var(--orange);display:none;}
.custom-opt.selected .custom-radio-inner{display:block;}
.custom-opt-label{font-size:13px;font-weight:700;color:var(--dark);}
.custom-opt.selected .custom-opt-label{color:var(--orange);}
.custom-opt-price{font-size:12px;font-weight:800;color:var(--orange);}
.good-to-know{background:linear-gradient(135deg,rgba(255,183,77,.12),rgba(245,124,0,.08));border:2px solid rgba(255,183,77,.3);border-radius:var(--r-md);padding:16px;margin-bottom:14px;}
.good-to-know-title{font-weight:800;font-size:14px;color:var(--dark);margin-bottom:10px;}
.good-to-know p{font-size:12px;color:var(--mid);font-weight:600;margin-bottom:4px;}
.detail-bottom-bar{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:420px;background:#fff;border-top:2px solid var(--border);box-shadow:0 -4px 16px rgba(0,0,0,.08);padding:12px 20px;display:flex;align-items:center;gap:14px;z-index:100;}
.qty-wrap{display:flex;align-items:center;gap:10px;background:#f5f5f5;border-radius:13px;padding:4px;}
.qty-btn{width:38px;height:38px;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:var(--shadow-sm);transition:background .2s,color .2s;font-size:18px;color:var(--dark);}
.qty-btn:hover{background:var(--orange);color:#fff;}
.qty-btn:disabled{opacity:.4;cursor:not-allowed;}
.qty-btn:hover:disabled{background:#fff;color:var(--dark);}
.qty-val{font-family:'Poppins',sans-serif;font-size:17px;font-weight:900;color:var(--dark);min-width:28px;text-align:center;}
.btn-add-cart{flex:1;background:var(--orange);color:#fff;font-family:inherit;font-size:14px;font-weight:800;padding:12px;border-radius:var(--r-md);display:flex;align-items:center;justify-content:center;gap:6px;cursor:pointer;box-shadow:var(--shadow-orange);transition:background .2s;}
.btn-add-cart:hover{background:var(--orange-dark);}

/* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
.toast{position:fixed;bottom:90px;left:50%;transform:translateX(-50%) translateY(20px);background:var(--dark);color:#fff;font-size:13px;font-weight:700;padding:10px 22px;border-radius:50px;z-index:999;opacity:0;transition:opacity .3s,transform .3s;pointer-events:none;white-space:nowrap;}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);}
</style>
</head>
<body>
<div id="app">
<div class="phone">

<!-- ‚îÄ‚îÄ SPLASH ‚îÄ‚îÄ -->
<div id="screen-splash" class="screen active">
  <div class="splash-icon scale-in">üèÉ</div>
  <h1 class="splash-title fade-in" style="animation-delay:.2s">CampusRunner</h1>
  <p class="splash-sub fade-in" style="animation-delay:.35s">Mingos Canteen ¬∑ RV University</p>
  <div class="splash-spinner" style="animation-delay:.5s"></div>
</div>

<!-- ‚îÄ‚îÄ WELCOME ‚îÄ‚îÄ -->
<div id="screen-welcome" class="screen no-scrollbar" style="overflow-y:auto;">
  <div class="welcome-hero">
    <div class="welcome-hero-icon scale-in">
      üö¥
      <div class="welcome-hero-badge">‚ú®</div>
    </div>
    <h1 class="welcome-title fade-in" style="animation-delay:.1s">Welcome to<br/>Campus Runner</h1>
    <p class="welcome-tagline fade-in" style="animation-delay:.2s">Run ¬∑ Deliver ¬∑ Earn ¬∑ Eat</p>
    <div class="welcome-chip fade-in" style="animation-delay:.3s">Mingos Canteen @ RV University</div>
    <div class="feature-list fade-in" style="animation-delay:.4s">
      <div class="feat-card">
        <span class="feat-emoji">üçî</span>
        <div>
          <div class="feat-title">Order Food</div>
          <div class="feat-desc">Browse and order from Mingos Canteen</div>
        </div>
      </div>
      <div class="feat-card">
        <span class="feat-emoji">üö¥</span>
        <div>
          <div class="feat-title">Become a Runner</div>
          <div class="feat-desc">Deliver orders and earn money</div>
        </div>
      </div>
      <div class="feat-card">
        <span class="feat-emoji">üèÜ</span>
        <div>
          <div class="feat-title">Earn Rewards</div>
          <div class="feat-desc">Unlock badges and exclusive perks</div>
        </div>
      </div>
    </div>
  </div>
  <div class="cta-area fade-in" style="animation-delay:.5s">
    <button class="btn-primary" onclick="goTo('login')">Get Started ‚Üí</button>
    <p class="cta-note">Join 500+ students already using Campus Runner</p>
  </div>
</div>

<!-- ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ -->
<div id="screen-login" class="screen no-scrollbar" style="overflow-y:auto;">
  <div class="auth-header">
    <button class="auth-back" onclick="goTo('welcome')">
      <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <div class="auth-icon">üîë</div>
    <h1 class="auth-title">Welcome Back!</h1>
    <p class="auth-sub">Login to Campus Runner</p>
  </div>
  <div class="auth-body">
    <div class="auth-form">
      <!-- Runner toggle -->
      <div class="runner-toggle-card">
        <div class="runner-toggle-left">
          <div class="runner-toggle-icon" id="runner-icon-login">üö¥</div>
          <div>
            <div class="runner-toggle-title">Join as Runner</div>
            <div class="runner-toggle-sub">Deliver and earn money</div>
          </div>
        </div>
        <div class="toggle-sw" id="runner-sw-login" onclick="toggleRunner('login')">
          <div class="toggle-knob"></div>
        </div>
      </div>

      <div>
        <label class="form-label">Student Email</label>
        <div class="form-field">
          <svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><polyline points="2,4 12,14 22,4"/></svg>
          <input class="form-input" type="email" placeholder="your.email@rvuniversity.edu" id="login-email"/>
        </div>
      </div>

      <div>
        <label class="form-label">Password</label>
        <div class="form-field">
          <svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          <input class="form-input" type="password" placeholder="Enter your password" id="login-pw"/>
          <button class="toggle-pw" onclick="togglePw('login-pw',this)" style="cursor:pointer;">
            <svg id="eye-login" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
      </div>

      <div class="remember-row">
        <label class="check-label"><input type="checkbox"/> Remember me</label>
        <span class="forgot">Forgot Password?</span>
      </div>

      <button class="btn-primary" onclick="goTo('home')">Login</button>

      <div class="divider">or continue with</div>

      <button class="google-btn" onclick="goTo('home')">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
        Sign in with Google
      </button>

      <p class="auth-switch">Don't have an account? <a onclick="goTo('signup')">Sign Up</a></p>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ SIGNUP ‚îÄ‚îÄ -->
<div id="screen-signup" class="screen no-scrollbar" style="overflow-y:auto;">
  <div class="auth-header">
    <button class="auth-back" onclick="goTo('welcome')">
      <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <div class="auth-icon">üéì</div>
    <h1 class="auth-title">Join Campus Runner</h1>
    <p class="auth-sub">Create your student account</p>
  </div>
  <div class="auth-body">
    <div class="auth-form">
      <div class="runner-toggle-card">
        <div class="runner-toggle-left">
          <div class="runner-toggle-icon" id="runner-icon-signup">üö¥</div>
          <div>
            <div class="runner-toggle-title">Join as Runner</div>
            <div class="runner-toggle-sub">Deliver and earn money</div>
          </div>
        </div>
        <div class="toggle-sw" id="runner-sw-signup" onclick="toggleRunner('signup')">
          <div class="toggle-knob"></div>
        </div>
      </div>

      <div>
        <label class="form-label">Full Name</label>
        <div class="form-field">
          <svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          <input class="form-input" type="text" placeholder="Your full name"/>
        </div>
      </div>

      <div>
        <label class="form-label">Student Email</label>
        <div class="form-field">
          <svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><polyline points="2,4 12,14 22,4"/></svg>
          <input class="form-input" type="email" placeholder="your.email@rvuniversity.edu"/>
        </div>
      </div>

      <div>
        <label class="form-label">Phone Number</label>
        <div class="form-field">
          <svg viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07A19.5 19.5 0 0 1 4.69 12a19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 3.6 1.16h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L7.91 8.74a16 16 0 0 0 6 6l1.06-.94a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
          <input class="form-input" type="tel" placeholder="+91 98765 43210"/>
        </div>
      </div>

      <div>
        <label class="form-label">Password</label>
        <div class="form-field">
          <svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          <input class="form-input" type="password" placeholder="Create a strong password" id="signup-pw"/>
          <button class="toggle-pw" onclick="togglePw('signup-pw',this)" style="cursor:pointer;">
            <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
      </div>

      <button class="btn-primary" onclick="goTo('home')">Create Account</button>
      <div class="divider">or continue with</div>
      <button class="google-btn" onclick="goTo('home')">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
        Sign up with Google
      </button>
      <p class="auth-switch">Already have an account? <a onclick="goTo('login')">Login</a></p>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ HOME ‚îÄ‚îÄ -->
<div id="screen-home" class="screen">
  <div class="header-bar">
    <div class="header-row">
      <div class="header-logo">
        <div class="header-logo-icon">üçΩÔ∏è</div>
        <div>
          <h1>Mingos</h1>
          <p>RV University</p>
        </div>
      </div>
      <button class="icon-btn" onclick="showToast('Cart: 3 items')">
        <svg viewBox="0 0 24 24"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
        <div class="cart-badge">3</div>
      </button>
    </div>
    <div class="search-wrap">
      <svg class="search-icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <input type="text" placeholder="Search for dishes..." oninput="filterHome(this.value)"/>
    </div>
  </div>

  <div class="scroll-content no-scrollbar">
    <!-- Promo Banner -->
    <div class="promo-banner fade-in" onclick="showToast('Promo applied!')">
      <div class="promo-deco"></div><div class="promo-deco2"></div>
      <div>
        <div class="promo-badge">20% OFF</div>
        <div class="promo-title">Lunch Special</div>
        <div class="promo-sub">Get flat 20% off on orders above ‚Çπ200</div>
        <div class="promo-cta">Order Now <span>‚Ä∫</span></div>
      </div>
      <div class="promo-img">
        <img src="https://images.unsplash.com/photo-1680359873864-43e89bf248ac?w=300&q=80" alt="Thali" loading="lazy"/>
      </div>
    </div>

    <!-- Runner Indicator -->
    <div class="runner-bar fade-in" style="animation-delay:.1s">
      <div class="runner-icon-wrap">
        <div class="runner-icon-inner">üö¥</div>
        <div class="runner-ping ping"></div>
      </div>
      <div class="runner-info">
        <div class="runner-title">
          <div class="runner-dot pulse"></div>
          5 Runners Active
        </div>
        <div class="runner-sub">üìç Near Mingos Canteen</div>
      </div>
      <div class="live-badge">LIVE</div>
    </div>

    <!-- Popular Items -->
    <div class="section-header fade-in" style="animation-delay:.15s">
      <span class="section-title">Popular Items</span>
      <button class="see-all" onclick="goTo('menu',{cat:'All'})">See All</button>
    </div>
    <div class="carousel no-scrollbar fade-in" style="animation-delay:.2s">
      <div class="carousel-inner" id="popular-carousel"></div>
    </div>

    <!-- Categories -->
    <div class="section-header fade-in" style="animation-delay:.25s">
      <span class="section-title">Menu Categories</span>
    </div>
    <div class="category-grid fade-in" style="animation-delay:.3s" id="cat-grid"></div>

    <!-- Today's Special -->
    <div style="margin-top:18px;" class="fade-in" style="animation-delay:.35s">
      <div class="special-card">
        <span class="special-emoji">‚≠ê</span>
        <div>
          <div class="special-title">Today's Special</div>
          <div class="special-desc">Chef's special Paneer Tikka Masala with complimentary raita</div>
          <div class="special-row">
            <span class="special-price">‚Çπ160</span>
            <button class="add-btn-sm" onclick="showToast('Added to cart!')">Add to Cart</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats-row" style="margin-top:16px;" class="fade-in">
      <div class="stat-card"><div class="stat-emoji">‚ö°</div><div class="stat-label">Avg Delivery</div><div class="stat-val">15-20 min</div></div>
      <div class="stat-card"><div class="stat-emoji">üéØ</div><div class="stat-label">Orders Today</div><div class="stat-val">250+</div></div>
      <div class="stat-card"><div class="stat-emoji">‚≠ê</div><div class="stat-label">Rating</div><div class="stat-val">4.8/5</div></div>
    </div>
  </div>

  <!-- Bottom Nav -->
  <div class="bottom-nav">
    <div class="nav-items">
      <button class="nav-btn active" onclick="setTab(this,'home')" data-tab="home">
        <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        <span>Home</span>
      </button>
      <button class="nav-btn" onclick="setTab(this,'orders');showToast('Your Orders')" data-tab="orders">
        <svg viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
        <span>Orders</span>
      </button>
      <button class="nav-btn" onclick="setTab(this,'rewards');showToast('Your Rewards üèÜ')" data-tab="rewards">
        <svg viewBox="0 0 24 24"><polyline points="20 12 20 22 4 22 4 12"/><rect x="2" y="7" width="20" height="5"/><line x1="12" y1="22" x2="12" y2="7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></svg>
        <span>Rewards</span>
      </button>
      <button class="nav-btn" onclick="setTab(this,'profile');showToast('Your Profile')" data-tab="profile">
        <svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        <span>Profile</span>
      </button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ MENU LISTING ‚îÄ‚îÄ -->
<div id="screen-menu" class="screen">
  <div class="header-bar">
    <div class="header-row">
      <div style="display:flex;align-items:center;gap:10px;">
        <button class="icon-btn" onclick="goBack()" style="flex-shrink:0;">
          <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
        </button>
        <div>
          <h1 id="menu-cat-title" style="font-family:'Poppins',sans-serif;font-size:17px;font-weight:800;color:#fff;"></h1>
          <p id="menu-count" style="font-size:11px;color:rgba(255,255,255,.8);font-weight:600;"></p>
        </div>
      </div>
      <button class="icon-btn" onclick="showToast('Cart: 3 items')">
        <svg viewBox="0 0 24 24"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
        <div class="cart-badge">3</div>
      </button>
    </div>
  </div>

  <div class="scroll-content no-scrollbar">
    <!-- Filters -->
    <div class="filter-bar" id="filter-bar">
      <button class="filter-chip" onclick="toggleFilterPanel()" id="filter-toggle-btn">
        <svg width="14" height="14" viewBox="0 0 24 24" style="stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;"><line x1="4" y1="6" x2="20" y2="6"/><line x1="4" y1="12" x2="14" y2="12"/><line x1="4" y1="18" x2="10" y2="18"/></svg>
        Filters
      </button>
      <button class="filter-chip active" id="diet-all" onclick="setDiet('all')">All</button>
      <button class="filter-chip" id="diet-veg" onclick="setDiet('veg')">Veg Only</button>
      <button class="filter-chip" id="diet-nonveg" onclick="setDiet('non-veg')">Non-Veg</button>
    </div>

    <div id="filter-panel-wrap" style="display:none;margin-bottom:12px;">
      <div class="filter-panel">
        <div class="filter-panel-header">
          <span class="filter-panel-title">Sort By</span>
          <div class="close-filter" onclick="toggleFilterPanel()">
            <svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </div>
        </div>
        <div class="sort-opts" id="sort-opts">
          <button class="sort-opt active" onclick="setSort('popular',this)">Popularity</button>
          <button class="sort-opt" onclick="setSort('rating',this)">Rating: High to Low</button>
          <button class="sort-opt" onclick="setSort('price-low',this)">Price: Low to High</button>
          <button class="sort-opt" onclick="setSort('price-high',this)">Price: High to Low</button>
          <button class="sort-opt" onclick="setSort('delivery',this)">Delivery Time</button>
        </div>
      </div>
    </div>

    <div class="info-banner">
      <span style="font-size:20px;">‚ö°</span>
      <span><strong>Free Delivery</strong> on orders above ‚Çπ150</span>
    </div>

    <div class="menu-list" id="menu-list" style="margin-top:14px;"></div>

    <div id="menu-empty" class="empty-state" style="display:none;">
      <div class="empty-emoji">üîç</div>
      <div class="empty-title">No items found</div>
      <div class="empty-sub">Try adjusting your filters</div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ ITEM DETAIL ‚îÄ‚îÄ -->
<div id="screen-detail" class="screen">
  <div class="detail-img-wrap" style="flex-shrink:0;">
    <img id="detail-img" src="" alt="" loading="lazy"/>
    <div class="detail-gradient"></div>
    <div class="detail-top-actions">
      <button class="detail-action-btn" onclick="goBack()">
        <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
      </button>
      <div class="detail-action-btns">
        <button class="detail-action-btn heart" id="fav-btn" onclick="toggleFav()">
          <svg viewBox="0 0 24 24" id="fav-icon"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
        </button>
        <button class="detail-action-btn" onclick="showToast('Link copied!')">
          <svg viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
        </button>
      </div>
    </div>
    <div class="veg-badge" id="detail-veg-badge">
      <div class="veg-dot-inner" id="detail-veg-dot" style="width:10px;height:10px;border-radius:50%;"></div>
      <span id="detail-veg-text"></span>
    </div>
  </div>

  <div class="detail-body no-scrollbar">
    <div class="detail-price-row">
      <div>
        <div class="detail-name" id="detail-name"></div>
        <div class="detail-category" id="detail-cat"></div>
      </div>
      <div style="text-align:right;">
        <div class="detail-price" id="detail-price"></div>
        <div class="detail-serving" id="detail-serving"></div>
      </div>
    </div>

    <div class="detail-chips">
      <div class="detail-chip chip-rating" id="detail-rating-chip"></div>
      <div class="detail-chip chip-time" id="detail-time-chip"></div>
      <div class="detail-chip chip-cal" id="detail-cal-chip"></div>
    </div>

    <div class="detail-section">
      <div class="detail-section-title">Description</div>
      <div class="detail-desc" id="detail-desc"></div>
    </div>

    <!-- Portion -->
    <div class="detail-section">
      <div class="detail-section-title">Portion Size</div>
      <div id="portion-opts">
        <button class="custom-opt" data-group="portion" data-val="half" onclick="selectOpt(this,'portion')">
          <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Half</span></div>
          <span class="custom-opt-price">-‚Çπ50</span>
        </button>
        <button class="custom-opt selected" data-group="portion" data-val="full" onclick="selectOpt(this,'portion')">
          <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Full (Recommended)</span></div>
        </button>
        <button class="custom-opt" data-group="portion" data-val="large" onclick="selectOpt(this,'portion')">
          <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Large</span></div>
          <span class="custom-opt-price">+‚Çπ50</span>
        </button>
      </div>
    </div>

    <!-- Spice -->
    <div class="detail-section">
      <div class="detail-section-title">Spice Level</div>
      <div id="spice-opts">
        <button class="custom-opt" data-group="spice" data-val="mild" onclick="selectOpt(this,'spice')">
          <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Mild</span></div>
        </button>
        <button class="custom-opt selected" data-group="spice" data-val="medium" onclick="selectOpt(this,'spice')">
          <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Medium (Recommended)</span></div>
        </button>
        <button class="custom-opt" data-group="spice" data-val="spicy" onclick="selectOpt(this,'spice')">
          <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Spicy</span></div>
        </button>
        <button class="custom-opt" data-group="spice" data-val="extra-spicy" onclick="selectOpt(this,'spice')">
          <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Extra Spicy üî•</span></div>
        </button>
      </div>
    </div>

    <!-- Addons -->
    <div class="detail-section">
      <div class="detail-section-title">Add-Ons</div>
      <button class="custom-opt" data-addon="extra-paneer" onclick="toggleAddon(this,30)">
        <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Extra Paneer</span></div>
        <span class="custom-opt-price">+‚Çπ30</span>
      </button>
      <button class="custom-opt" data-addon="butter-naan" onclick="toggleAddon(this,40)">
        <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Butter Naan (2 pcs)</span></div>
        <span class="custom-opt-price">+‚Çπ40</span>
      </button>
      <button class="custom-opt" data-addon="raita" onclick="toggleAddon(this,20)">
        <div class="custom-opt-left"><div class="custom-radio"><div class="custom-radio-inner"></div></div><span class="custom-opt-label">Raita</span></div>
        <span class="custom-opt-price">+‚Çπ20</span>
      </button>
    </div>

    <div class="good-to-know">
      <div class="good-to-know-title">üí° Good to Know</div>
      <p>‚úì Freshly prepared with premium ingredients</p>
      <p>‚úì No artificial colors or preservatives</p>
      <p>‚úì Served hot and fresh</p>
    </div>
  </div>

  <div class="detail-bottom-bar">
    <div class="qty-wrap">
      <button class="qty-btn" id="qty-minus" onclick="changeQty(-1)" disabled>‚àí</button>
      <span class="qty-val" id="qty-val">1</span>
      <button class="qty-btn" onclick="changeQty(1)">+</button>
    </div>
    <button class="btn-add-cart" onclick="addToCart()">
      Add to Cart ¬∑ <span id="detail-total">‚Çπ150</span>
    </button>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

</div><!-- /phone -->
</div><!-- /app -->

<script>
// ‚îÄ‚îÄ DATA ‚îÄ‚îÄ
const CATEGORIES = [
  {id:'pasta',name:'Pasta',emoji:'üçù',img:'https://images.unsplash.com/photo-1609166639722-47053ca112ea?w=300&q=80'},
  {id:'sandwich',name:'Sandwich',emoji:'ü•™',img:'https://images.unsplash.com/photo-1642335381031-8c80a25d1bbd?w=300&q=80'},
  {id:'south-indian',name:'South Indian',emoji:'ü´ì',img:'https://images.unsplash.com/photo-1668236543090-82eba5ee5976?w=300&q=80'},
  {id:'north-indian',name:'North Indian',emoji:'üçõ',img:'https://images.unsplash.com/photo-1701579231378-3726490a407b?w=300&q=80'},
  {id:'rolls',name:'Rolls',emoji:'üåØ',img:'https://images.unsplash.com/photo-1696960810804-5cf6f5689411?w=300&q=80'},
  {id:'pizza',name:'Pizza',emoji:'üçï',img:'https://images.unsplash.com/photo-1546993641-097e8366bba0?w=300&q=80'},
  {id:'chinese',name:'Chinese',emoji:'ü•°',img:'https://images.unsplash.com/photo-1716535232835-6d56282dfe8a?w=300&q=80'},
  {id:'chats',name:'Chats',emoji:'ü•ò',img:'https://images.unsplash.com/photo-1732519970445-8f2d6998961f?w=300&q=80'},
  {id:'quick-bites',name:'Quick Bites',emoji:'üçü',img:'https://images.unsplash.com/photo-1680359873864-43e89bf248ac?w=300&q=80'},
  {id:'beverages',name:'Beverages',emoji:'‚òï',img:'https://images.unsplash.com/photo-1618263616142-7b8815503d05?w=300&q=80'},
  {id:'ice-cream',name:'Ice Cream',emoji:'üç¶',img:'https://images.unsplash.com/photo-1673551493011-2b5f771013d4?w=300&q=80'},
];

const POPULAR = [
  {id:'1',name:'Paneer Butter Masala',price:150,img:'https://images.unsplash.com/photo-1701579231378-3726490a407b?w=400&q=80',rating:4.9,time:'25 min',veg:true,badge:'Best Seller'},
  {id:'2',name:'Masala Dosa',price:80,img:'https://images.unsplash.com/photo-1668236543090-82eba5ee5976?w=400&q=80',rating:4.7,time:'15 min',veg:true,badge:'Popular'},
  {id:'3',name:'Hyderabadi Biryani',price:180,img:'https://images.unsplash.com/photo-1633945274417-ab205ae69d10?w=400&q=80',rating:4.8,time:'30 min',veg:false,badge:'Trending'},
  {id:'4',name:'Special Thali',price:120,img:'https://images.unsplash.com/photo-1680359873864-43e89bf248ac?w=400&q=80',rating:4.6,time:'20 min',veg:true,badge:'Value Deal'},
];

const MENU_ITEMS = [
  {id:'1',name:'Paneer Butter Masala',desc:'Rich and creamy paneer curry with butter and tomato gravy',price:150,img:'https://images.unsplash.com/photo-1701579231378-3726490a407b?w=400&q=80',rating:4.8,time:'25 min',veg:true,badge:'Best Seller',cal:350,serving:'300g',cat:'north-indian'},
  {id:'2',name:'Paneer Tikka',desc:'Marinated paneer chunks grilled to perfection with spices',price:180,img:'https://images.unsplash.com/photo-1666001120694-3ebe8fd207be?w=400&q=80',rating:4.7,time:'20 min',veg:true,badge:'Popular',cal:290,serving:'250g',cat:'north-indian'},
  {id:'3',name:'Chicken Curry',desc:'Traditional chicken curry with aromatic spices and herbs',price:200,img:'https://images.unsplash.com/photo-1707448829764-9474458021ed?w=400&q=80',rating:4.9,time:'30 min',veg:false,badge:null,cal:420,serving:'350g',cat:'north-indian'},
  {id:'4',name:'Masala Dosa',desc:'Crispy dosa filled with spiced potato masala, served with chutney',price:80,img:'https://images.unsplash.com/photo-1668236543090-82eba5ee5976?w=400&q=80',rating:4.6,time:'15 min',veg:true,badge:'Value',cal:280,serving:'300g',cat:'south-indian'},
  {id:'5',name:'Hyderabadi Biryani',desc:'Fragrant basmati rice with tender chicken and aromatic spices',price:180,img:'https://images.unsplash.com/photo-1633945274417-ab205ae69d10?w=400&q=80',rating:4.9,time:'35 min',veg:false,badge:'Trending',cal:520,serving:'400g',cat:'north-indian'},
  {id:'6',name:'Veg Pulao',desc:'Aromatic rice cooked with mixed vegetables and mild spices',price:120,img:'https://images.unsplash.com/photo-1645177628172-a94c1f96e6db?w=400&q=80',rating:4.5,time:'20 min',veg:true,badge:null,cal:340,serving:'350g',cat:'north-indian'},
  {id:'7',name:'Butter Naan',desc:'Soft and fluffy Indian flatbread brushed with butter',price:40,img:'https://images.unsplash.com/photo-1637471631117-ded3d248c468?w=400&q=80',rating:4.7,time:'10 min',veg:true,badge:null,cal:180,serving:'2 pcs',cat:'north-indian'},
  {id:'8',name:'Special Thali',desc:'Complete meal with dal, sabzi, rice, roti, and dessert',price:140,img:'https://images.unsplash.com/photo-1680359873864-43e89bf248ac?w=400&q=80',rating:4.8,time:'25 min',veg:true,badge:'Value',cal:650,serving:'Full Meal',cat:'north-indian'},
];

// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ
let currentScreen = 'splash';
let previousScreen = 'home';
let currentDiet = 'all';
let currentSort = 'popular';
let filterPanelOpen = false;
let selectedItem = null;
let qty = 1;
let basePrice = 150;
let portionAdj = 0;
let addonTotal = 0;
let isFav = false;

// ‚îÄ‚îÄ NAVIGATION ‚îÄ‚îÄ
function goTo(screen, opts={}) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  if (screen !== 'detail' && screen !== 'menu') previousScreen = currentScreen;
  currentScreen = screen;

  const el = document.getElementById('screen-' + screen);
  el.classList.add('active');
  el.scrollTop = 0;

  if (screen === 'home') buildHome();
  if (screen === 'menu') buildMenu(opts.cat || 'All');
  if (screen === 'detail') buildDetail(opts.id);
}

function goBack() {
  goTo(previousScreen === 'menu' ? 'menu' : previousScreen, {});
  if (previousScreen === 'menu') buildMenu();
}

// ‚îÄ‚îÄ BUILD HOME ‚îÄ‚îÄ
function buildHome() {
  // Popular carousel
  const carousel = document.getElementById('popular-carousel');
  carousel.innerHTML = POPULAR.map(item => `
    <div class="food-card" onclick="goTo('detail',{id:'${item.id}'})">
      <div class="food-card-img">
        <img src="${item.img}" alt="${item.name}" loading="lazy"/>
        <div class="veg-dot ${item.veg?'veg':'non-veg'}"><div class="veg-dot-inner"></div></div>
        ${item.badge ? `<div class="food-badge">${item.badge}</div>`:''}
      </div>
      <div class="food-card-body">
        <div class="food-name">${item.name}</div>
        <div class="food-meta">
          <div class="food-meta-item"><span class="star-icon">‚òÖ</span>${item.rating}</div>
          <div class="food-meta-item">üïê ${item.time}</div>
        </div>
        <div class="food-footer">
          <div class="food-price">‚Çπ${item.price}</div>
          <button class="add-btn-sm" onclick="event.stopPropagation();showToast('${item.name} added!')">Add</button>
        </div>
      </div>
    </div>
  `).join('');

  // Categories
  const grid = document.getElementById('cat-grid');
  grid.innerHTML = CATEGORIES.map(cat => `
    <div class="cat-card" onclick="goTo('menu',{cat:'${cat.name}'})">
      <div class="cat-img">
        <img src="${cat.img}" alt="${cat.name}" loading="lazy"/>
        <div class="cat-emoji">${cat.emoji}</div>
      </div>
      <div class="cat-name">${cat.name}</div>
    </div>
  `).join('');
}

// ‚îÄ‚îÄ BUILD MENU ‚îÄ‚îÄ
let menuCategory = 'All';
function buildMenu(cat) {
  if (cat) menuCategory = cat;
  document.getElementById('menu-cat-title').textContent = menuCategory;
  renderMenuItems();
}

function renderMenuItems() {
  let items = [...MENU_ITEMS];
  if (currentDiet === 'veg') items = items.filter(i => i.veg);
  if (currentDiet === 'non-veg') items = items.filter(i => !i.veg);

  if (currentSort === 'rating') items.sort((a,b) => b.rating - a.rating);
  else if (currentSort === 'price-low') items.sort((a,b) => a.price - b.price);
  else if (currentSort === 'price-high') items.sort((a,b) => b.price - a.price);
  else if (currentSort === 'delivery') items.sort((a,b) => parseInt(a.time) - parseInt(b.time));

  document.getElementById('menu-count').textContent = items.length + ' items';

  const list = document.getElementById('menu-list');
  const empty = document.getElementById('menu-empty');

  if (items.length === 0) {
    list.innerHTML = '';
    empty.style.display = 'block';
  } else {
    empty.style.display = 'none';
    list.innerHTML = items.map(item => `
      <div class="menu-item" onclick="goTo('detail',{id:'${item.id}'})">
        <div class="menu-item-body">
          <div class="menu-item-top">
            <div class="veg-dot ${item.veg?'veg':'non-veg'}" style="position:static;width:18px;height:18px;flex-shrink:0;"><div class="veg-dot-inner" style="width:9px;height:9px;"></div></div>
            ${item.badge ? `<span style="font-size:10px;font-weight:800;color:var(--orange);background:rgba(245,124,0,.12);padding:2px 7px;border-radius:50px;">${item.badge}</span>` : ''}
          </div>
          <div class="menu-item-name">${item.name}</div>
          <div class="menu-item-desc">${item.desc}</div>
          <div class="menu-item-meta">
            <div class="food-meta-item"><span class="star-icon">‚òÖ</span>${item.rating}</div>
            <div class="food-meta-item">üïê ${item.time}</div>
          </div>
          <div class="menu-item-footer">
            <div class="food-price">‚Çπ${item.price}</div>
            <button class="add-btn" onclick="event.stopPropagation();showToast('${item.name} added!')">
              <svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
              Add
            </button>
          </div>
        </div>
        <div class="menu-item-img"><img src="${item.img}" alt="${item.name}" loading="lazy"/></div>
      </div>
    `).join('');
  }
}

function setDiet(d) {
  currentDiet = d;
  document.querySelectorAll('[id^="diet-"]').forEach(b => b.classList.remove('active'));
  document.getElementById('diet-' + d.replace('-','').replace('nonveg','nonveg')).classList.add('active');
  // fix id mapping
  const map = {all:'diet-all',veg:'diet-veg','non-veg':'diet-nonveg'};
  document.querySelectorAll('[id^="diet-"]').forEach(b => b.classList.remove('active'));
  document.getElementById(map[d]).classList.add('active');
  renderMenuItems();
}

function setSort(val, btn) {
  currentSort = val;
  document.querySelectorAll('.sort-opt').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderMenuItems();
}

function toggleFilterPanel() {
  filterPanelOpen = !filterPanelOpen;
  document.getElementById('filter-panel-wrap').style.display = filterPanelOpen ? 'block' : 'none';
  document.getElementById('filter-toggle-btn').classList.toggle('active', filterPanelOpen);
}

// ‚îÄ‚îÄ BUILD DETAIL ‚îÄ‚îÄ
function buildDetail(id) {
  const item = MENU_ITEMS.find(i => i.id === id) || MENU_ITEMS[0];
  selectedItem = item;
  qty = 1; portionAdj = 0; addonTotal = 0; isFav = false;

  document.getElementById('detail-img').src = item.img;
  document.getElementById('detail-img').alt = item.name;

  // Veg badge
  const badge = document.getElementById('detail-veg-badge');
  badge.className = 'veg-badge ' + (item.veg ? 'veg' : 'non-veg');
  document.getElementById('detail-veg-dot').style.background = item.veg ? '#388E3C' : '#C62828';
  document.getElementById('detail-veg-text').textContent = item.veg ? 'Pure Veg' : 'Non-Veg';

  document.getElementById('detail-name').textContent = item.name;
  document.getElementById('detail-cat').textContent = item.cat === 'north-indian' ? 'North Indian' : 'South Indian';
  document.getElementById('detail-price').textContent = '‚Çπ' + item.price;
  document.getElementById('detail-serving').textContent = item.serving;
  document.getElementById('detail-rating-chip').textContent = '‚òÖ ' + item.rating + ' (250)';
  document.getElementById('detail-time-chip').textContent = 'üïê ' + item.time;
  document.getElementById('detail-cal-chip').textContent = item.cal + ' cal';
  document.getElementById('detail-desc').textContent = item.desc + '. Served with fresh coriander and a smile.';

  basePrice = item.price;

  // Reset customizations
  document.querySelectorAll('.custom-opt[data-group="portion"]').forEach(b => b.classList.remove('selected'));
  document.querySelector('.custom-opt[data-group="portion"][data-val="full"]').classList.add('selected');
  document.querySelectorAll('.custom-opt[data-group="spice"]').forEach(b => b.classList.remove('selected'));
  document.querySelector('.custom-opt[data-group="spice"][data-val="medium"]').classList.add('selected');
  document.querySelectorAll('.custom-opt[data-addon]').forEach(b => b.classList.remove('selected'));

  updateTotal();
  updateQtyBtns();
  updateFavBtn();

  previousScreen = currentScreen === 'home' ? 'home' : 'menu';
}

function selectOpt(btn, group) {
  document.querySelectorAll(`.custom-opt[data-group="${group}"]`).forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  if (group === 'portion') {
    const v = btn.dataset.val;
    portionAdj = v === 'half' ? -50 : v === 'large' ? 50 : 0;
    updateTotal();
  }
}

function toggleAddon(btn, price) {
  btn.classList.toggle('selected');
  const sign = btn.classList.contains('selected') ? 1 : -1;
  addonTotal += sign * price;
  updateTotal();
}

function changeQty(delta) {
  qty = Math.max(1, qty + delta);
  document.getElementById('qty-val').textContent = qty;
  updateQtyBtns();
  updateTotal();
}

function updateQtyBtns() {
  document.getElementById('qty-minus').disabled = qty <= 1;
}

function updateTotal() {
  const total = (basePrice + portionAdj) * qty + addonTotal;
  document.getElementById('detail-total').textContent = '‚Çπ' + total;
}

function addToCart() {
  showToast(selectedItem.name + ' added to cart! üõí');
}

function toggleFav() {
  isFav = !isFav;
  updateFavBtn();
  showToast(isFav ? 'Added to favourites ‚ù§Ô∏è' : 'Removed from favourites');
}

function updateFavBtn() {
  const btn = document.getElementById('fav-btn');
  const icon = document.getElementById('fav-icon');
  btn.classList.toggle('liked', isFav);
  icon.style.fill = isFav ? '#fff' : 'none';
  icon.style.stroke = isFav ? '#fff' : 'var(--dark)';
}

// ‚îÄ‚îÄ UTILITIES ‚îÄ‚îÄ
function filterHome(q) {
  // just a placeholder
}

function setTab(btn, tab) {
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
}

function toggleRunner(form) {
  const sw = document.getElementById('runner-sw-' + form);
  const icon = document.getElementById('runner-icon-' + form);
  sw.classList.toggle('on');
  icon.classList.toggle('on');
}

function togglePw(id, btn) {
  const input = document.getElementById(id);
  if (input.type === 'password') {
    input.type = 'text';
    btn.querySelector('svg').innerHTML = '<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/><path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/><line x1="1" y1="1" x2="23" y2="23"/>';
  } else {
    input.type = 'password';
    btn.querySelector('svg').innerHTML = '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>';
  }
}

let toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => t.classList.remove('show'), 2000);
}

// ‚îÄ‚îÄ SPLASH ‚Üí WELCOME ‚îÄ‚îÄ
setTimeout(() => goTo('welcome'), 2200);

// Initialise home data
buildHome();
</script>
</body>
</html>